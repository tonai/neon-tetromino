@property --shift {
  syntax: "<number>";
  inherits: false;
  initial-value: 0;
}

/* latin-ext */
@font-face {
  font-family: "Mr Dafoe";
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url("font/MrDafoe-latin-ext.woff2") format("woff2");
  unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF,
    U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: "Mr Dafoe";
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url("font/MrDafoe-latin.woff2") format("woff2");
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA,
    U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191,
    U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

/* vietnamese */
@font-face {
  font-family: "Exo";
  font-style: normal;
  font-weight: 900;
  font-display: swap;
  src: url("font/exo-vietnamese.woff2") format("woff2");
  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1,
    U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329,
    U+1EA0-1EF9, U+20AB;
}
/* latin-ext */
@font-face {
  font-family: "Exo";
  font-style: normal;
  font-weight: 900;
  font-display: swap;
  src: url("font/exo-latin-ext.woff2") format("woff2");
  unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF,
    U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: "Exo";
  font-style: normal;
  font-weight: 900;
  font-display: swap;
  src: url("font/exo-latin.woff2") format("woff2");
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA,
    U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191,
    U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

* {
  box-sizing: border-box;
}
:root {
  --size: min(1vw, 0.5vh);
  --block: calc(var(--size) * 7);
  --background-color: #261447;
  --box-shadow: 0 0 calc(var(--size) * 2) #723cd5;
  --sun-size: calc(var(--size) * 40);
  --g: linear-gradient(to bottom, #000, #000);
  --labs-sys-color-sun-1: #fdb428;
  --labs-sys-color-sun-2: #f672ca;
  --labs-sys-color-sun-glow: #b9f;
  --labs-sys-color-star: #f6c0c0;
  --base-speed: 4s;
  --reflect-gradient: linear-gradient(
    #032d50 25%,
    #00a1ef 35%,
    white 50%,
    #20125f 50%,
    #8313e7 55%,
    #ff61af 75%
  );
}
body,
html {
  padding: 0;
  margin: 0;
  background: #0d0221;
  color: #e6e6e6;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  overflow: hidden;
}
main {
  display: flex;
  flex-direction: column;
  height: 100vh;
  align-items: center;
  justify-content: space-around;
  overflow: hidden;
  perspective: 700px;
}

/* Background */
.background {
  height: 100vh;
  width: 100vw;
  background: linear-gradient(
    #0d0221 0%,
    #45125e 15%,
    #a22561 30%,
    #ff3864 40%,
    transparent 40%
  );
}
.background__stars {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 20%;
  overflow: hidden;
  left: 0;
}
.background__star {
  position: absolute;
  background: var(--labs-sys-color-star);
  width: 0.15rem;
  height: 0.15rem;
  border-radius: 50%;
  transform: translate(var(--x), var(--y));
  box-shadow: 0 0 0.25rem var(--labs-sys-color-sun-glow);
}
.background__mountain {
  position: absolute;
  width: 100%;
  top: 37%;
}
.background__mountain div {
  background: linear-gradient(#090910 40%, #450547 100%);
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
  position: absolute;
  z-index: 10;
}
.background__mountain div:nth-child(1) {
  width: 24vw;
  height: 6vw;
  max-height: 6vh;
  inset: auto auto 45% -5%;
}
.background__mountain div:nth-child(2) {
  width: 24vw;
  height: 8vw;
  max-height: 8vh;
  inset: auto auto 45% 5%;
}
.background__mountain div:nth-child(3) {
  width: 30vw;
  height: 10vw;
  max-height: 10vh;
  inset: auto auto 45% 15%;
}
.background__mountain div:nth-child(4) {
  width: 30vw;
  height: 18vw;
  max-height: 18vh;
  inset: auto auto 45% 30%;
}
.background__mountain div:nth-child(5) {
  width: 30vw;
  height: 26vw;
  max-height: 26vh;
  inset: auto 30% 45% auto;
}
.background__mountain div:nth-child(6) {
  width: 30vw;
  height: 10vw;
  max-height: 10vh;
  inset: auto 15% 45% auto;
  z-index: 9;
}
.background__mountain div:nth-child(7) {
  width: 24vw;
  height: 8vw;
  max-height: 8vh;
  inset: auto 5% 45% auto;
  z-index: 8;
}
.background__mountain div:nth-child(8) {
  width: 24vw;
  height: 6vw;
  max-height: 6vh;
  inset: auto -5% 45% auto;
  z-index: 7;
}
.background__gradient {
  position: absolute;
  width: 100%;
  top: 37%;
  height: 63%;
  background: linear-gradient(#450547 0%, transparent 80%);
}
.background__lines {
  position: fixed;
  width: 100vw;
  height: calc(var(--size) * 24);
  background: linear-gradient(
    rgba(89, 193, 254, 0.2) 20%,
    #59c1fe 40%,
    #59c1fe 60%,
    rgba(89, 193, 254, 0.2) 80%
  );
  background-size: 1px calc(var(--size) *2);
  box-shadow: 0 0 1em rgba(89, 193, 254, 0.4);
  left: 0;
  top: 35%;
  z-index: 10;
}
.background__grid {
  background: linear-gradient(
      transparent 65%,
      rgba(46, 38, 255, 0.4) 75%,
      #7d41e6 80%,
      rgba(46, 38, 255, 0.4) 85%,
      transparent 95%
    ),
    linear-gradient(
      90deg,
      transparent 65%,
      rgba(46, 38, 255, 0.4) 75%,
      #7d41e6 80%,
      rgba(46, 38, 255, 0.4) 85%,
      transparent 95%
    );
  background-size: 30px 30px;
  width: 200vw;
  height: 300vh;
  position: absolute;
  bottom: -120vh;
  transform: rotateX(-109deg);
  -webkit-mask-image: linear-gradient(rgba(0, 0, 0, 1), rgba(0, 0, 0, 0) 80%);
  mask-image: linear-gradient(rgba(0, 0, 0, 1), rgba(0, 0, 0, 0) 80%);
  animation: 1s linear infinite both move;
}
@keyframes move {
  0% {
    background-position: 0 30px;
  }
  100% {
    background-position: 0 0;
  }
}

/* Sun */
.sun {
  position: fixed;
  top: 17%;
  left: 50%;
  width: var(--sun-size);
  aspect-ratio: 1 / 1;
  border-radius: 50%;
  translate: -50% -50%;
  filter: drop-shadow(0 0 4rem var(--labs-sys-color-sun-glow));
}
.sun__face {
  position: absolute;
  inset: 0;
  border-radius: inherit;
}
.sun__front {
  /* -webkit-mask:
    var(--g) 0 0 / 100% 38%,
    var(--g) 0 41% / 100% 5.2%,
    var(--g) 0 47.5% / 100% 4.8%,
    var(--g) 0 54% / 100% 4.4%,
    var(--g) 0 60.5% / 100% 4%,
    var(--g) 0 67% / 100% 3.6%,
    var(--g) 0 73.5% / 100% 3.2%,
    var(--g) 0 80% / 100% 2.8%,
    var(--g) 0 86.5% / 100% 2.4%;
  mask:
    var(--g) 0 0 / 100% 38%,
    var(--g) 0 41% / 100% 5.2%,
    var(--g) 0 47.5% / 100% 4.8%,
    var(--g) 0 54% / 100% 4.4%,
    var(--g) 0 60.5% / 100% 4%,
    var(--g) 0 67% / 100% 3.6%,
    var(--g) 0 73.5% / 100% 3.2%,
    var(--g) 0 80% / 100% 2.8%,
    var(--g) 0 86.5% / 100% 2.4%;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  background-image: linear-gradient(180deg, #eee268 0%, #ff1fae 100%);
  background-image: linear-gradient(180deg in oklab, #eee268 0%, #ff1fae 100%);
  background-color: #eee268;
  background-repeat: no-repeat; */
  position: absolute;
  inset: 0;
  border-radius: inherit;
  --shift: 1;
  -webkit-mask: linear-gradient(
    to top,
    #000 calc(1% + (3.5% * var(--shift))),
    0%,
    #0000 calc(8% + (2.8% * var(--shift))),
    0%,
    #000 calc(10% + (3.5% * var(--shift))),
    0%,
    #0000 calc(16% + (2.8% * var(--shift))),
    0%,
    #000 calc(19% + (3.5% * var(--shift))),
    0%,
    #0000 calc(24% + (2.8% * var(--shift))),
    0%,
    #000 calc(28% + (3.5% * var(--shift))),
    0%,
    #0000 calc(32% + (2.8% * var(--shift))),
    0%,
    #000 calc(37% + (3.5% * var(--shift))),
    0%,
    #0000 calc(40% + (2.8% * var(--shift))),
    0%,
    #000 calc(46% + (3.5% * var(--shift))),
    0%,
    #0000 calc(48% + (2.8% * var(--shift))),
    0%,
    #000 calc(55% + (3.5% * var(--shift))),
    0%,
    #0000 calc(56% + (2.8% * var(--shift))),
    0%,
    #000 calc(56% + (2.5% * var(--shift)))
  );
  mask: linear-gradient(
    to top,
    #000 calc(1% + (3.5% * var(--shift))),
    0%,
    #0000 calc(8% + (2.8% * var(--shift))),
    0%,
    #000 calc(10% + (3.5% * var(--shift))),
    0%,
    #0000 calc(16% + (2.8% * var(--shift))),
    0%,
    #000 calc(19% + (3.5% * var(--shift))),
    0%,
    #0000 calc(24% + (2.8% * var(--shift))),
    0%,
    #000 calc(28% + (3.5% * var(--shift))),
    0%,
    #0000 calc(32% + (2.8% * var(--shift))),
    0%,
    #000 calc(37% + (3.5% * var(--shift))),
    0%,
    #0000 calc(40% + (2.8% * var(--shift))),
    0%,
    #000 calc(46% + (3.5% * var(--shift))),
    0%,
    #0000 calc(48% + (2.8% * var(--shift))),
    0%,
    #000 calc(55% + (3.5% * var(--shift))),
    0%,
    #0000 calc(56% + (2.8% * var(--shift))),
    0%,
    #000 calc(56% + (2.5% * var(--shift)))
  );
  -webkit-mask-size: 100% 120%;
  mask-size: 100% 120%;
  animation: sun calc(var(--base-speed) / 4) linear infinite;
  border-radius: inherit;
  background-image: linear-gradient(
    to bottom,
    var(--labs-sys-color-sun-1),
    var(--labs-sys-color-sun-2) 60%
  );
}
@keyframes sun {
  from {
    --shift: 1;
  }
  to {
    --shift: 3.8;
  }
}

/* Players */
.players {
  display: flex;
  padding: var(--size) 0;
  width: 100%;
  position: relative;
  z-index: 1;
}

/* Player */
.player {
  display: flex;
  flex-direction: column;
  flex: 1;
  align-items: center;
}
.player__score {
  margin-top: var(--size);
  font-size: calc(var(--size) * 6) !important;
}

/* Avatar */
.avatar {
  display: inline-flex;
  flex-direction: column;
  position: relative;
  align-items: center;
  width: 100%;
}
.avatar__wrapper {
  aspect-ratio: 1 / 1;
  position: relative;
  width: 100%;
  max-width: calc(var(--size) * 15);
}
.avatar__image {
  display: block;
  border-radius: 50%;
  box-sizing: border-box;
  max-width: 100%;
  max-height: 100%;
  position: absolute;
  aspect-ratio: 1 / 1;
  left: 50%;
  translate: -50% 0;
}
.avatar__lines {
  position: absolute;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  align-items: center;
  font-size: calc(var(--size) * 10);
  text-align: center;
  bottom: 0;
  right: 0;
  translate: 100% 0;
  padding-left: var(--size);
  animation: 2s linear both message;
}
@keyframes message {
  0% {
    translate: 50% 100%;
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  80% {
    opacity: 1;
  }
  100% {
    translate: 50% -100%;
    opacity: 0;
  }
}

/* Start Screen */
.start-screen {
  width: 100%;
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  align-items: center;
  z-index: 10;
  position: absolute;
  bottom: 0;
  height: 64%;
  padding: calc(var(--size) * 25) 0 calc(var(--size) * 5);
}
.start-screen__mode {
  position: relative;
}
.start-screen__players {
  position: absolute;
  top: 100%;
  left: 50%;
  translate: -50% -10%;
  display: flex;
}
.start-screen__player {
  min-width: calc(var(--size) * 12);
  margin: 0 calc(var(--size) * -1);
  animation: 200ms ease-in both slide-down;
}
@keyframes slide-down {
  0% {
    translate: 0 -100%;
    opacity: 0;
  }
  100% {
    translate: 0 0;
    opacity: 1;
  }
}

/* Title */
.title {
  position: absolute !important;
  top: 0%;
  font-family: "Exo", sans-serif;
  font-size: calc(var(--size) * 17);
}
.title__sub-title {
  font-family: "Mr Dafoe", cursive;
  margin: 0;
  font-size: calc(var(--size) * 15);
  color: white;
  text-shadow:
    0 0 0.05em #fff,
    0 0 0.2em #fe05e1,
    0 0 0.3em #fe05e1;
  position: relative;
  z-index: 1;
  position: absolute;
  top: 0;
  left: calc(var(--size) * -2);
  translate: 0 -60%;
  rotate: -10deg;
}

/* Game */
.game {
  display: flex;
  justify-content: space-evenly;
  width: 100%;
}
.game__column {
  display: flex;
  flex-direction: column;
}
.game__garbages {
  width: var(--block);
  height: calc(var(--block) * 15);
  margin-top: var(--block);
  background-color: var(--background-color);
  box-shadow: var(--box-shadow);
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  align-items: center;
}
@property --garbage-color {
  syntax: "<color>"; /* <- defined as type number for the transition to work */
  initial-value: red;
  inherits: false;
}
.game__garbage {
  width: var(--block);
  height: var(--block);
  background: red;
  scale: 0.7;
  animation: 2s linear infinite both shine;
}
@keyframes shine {
  0% {
    background: #ffd319;
  }
  20% {
    background: #ff901f;
  }
  40% {
    background: #ff2975;
  }
  60% {
    background: #f222ff;
  }
  80% {
    background: #8c1eff;
  }
  100% {
    background: #ffd319;
  }
}

/* Well */
.well {
  width: calc(var(--block) * 10);
  height: calc(var(--block) * 20);
  background-color: var(--background-color);
  box-shadow: var(--box-shadow);
  position: relative;
  overflow: hidden;
}

/* Next Block */
.next-block {
  width: calc(var(--block) * 4);
  height: calc(var(--block) * 4);
  background-color: var(--background-color);
  box-shadow: var(--box-shadow);
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Block */
.block {
  --color: white;
  position: relative;
}
.block--falling {
  position: absolute;
  left: 0;
  top: 0;
  transition: all linear 100ms;
  z-index: 1;
  transform: translateZ(0);
}
.block__cell {
  width: var(--block);
  height: var(--block);
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
  transform: translateZ(0);
}
.block__cell:before {
  content: "";
  display: block;
  position: absolute;
  inset: 0;
  background-color: var(--color);
  filter: brightness(50%);
}
.block__cell:after {
  content: "";
  display: block;
  position: absolute;
  inset: 0;
  border: 2px solid var(--color);
  box-shadow:
    0 0 var(--size) var(--color),
    inset 0 0 var(--size) var(--color);
}
.block--I {
  top: calc(var(--block) * -1);
}

/* Controls */
.controls {
  position: absolute;
  inset: 0;
  z-index: 100;
}
.controls__btn {
  margin: 0;
  padding: 0;
  border: 0;
  background: transparent;
}
.controls__bottom {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 20%;
}
.controls__center {
  position: absolute;
  top: 0;
  left: 25%;
  right: 25%;
  bottom: 20%;
}
.controls__left {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 20%;
  width: 25%;
}
.controls__right {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 20%;
  width: 25%;
}

/* Helpers */
.button {
  padding: calc(var(--size) * 2) calc(var(--size) * 8);
  background: linear-gradient(45deg, #ff00ff, #00ffff);
  border: none;
  border-radius: calc(var(--size) * 10);
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  box-shadow:
    0 0 10px rgba(255, 0, 255, 0.7),
    0 0 20px rgba(0, 255, 255, 0.7);
  position: relative;
  overflow: hidden;
  -webkit-text-stroke: 0.06em rgba(0, 0, 0, 0.5);
  z-index: 1;
  transform: translateZ(0);
}
.button:not(:disabled):hover {
  transform: translateZ(0) scale(1.05);
  box-shadow:
    0 0 15px rgba(255, 0, 255, 0.9),
    0 0 30px rgba(0, 255, 255, 0.9);
}
.button:disabled {
  filter: grayscale(0.8);
  opacity: 0.8;
}
.reflect {
  position: relative;
}
.reflect__front {
  position: absolute;
  inset: 0;
  background-image: var(--reflect-gradient);
  -webkit-text-stroke: 0.01em #94a0b9;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
}
.reflect__back {
  text-shadow:
    0 0 0.1em #8ba2d0,
    0 0 0.2em black,
    0 0 5em #165ff3;
  -webkit-text-stroke: 0.06em rgba(0, 0, 0, 0.5);
}
.text {
  color: #fff;
  font-family: "Exo", sans-serif;
  font-size: calc(var(--size) * 8);
  font-weight: bold;
  text-shadow: 0 0 5px rgba(255, 255, 255, 0.7);
}
